# Финальный проект спринта: сервис YaCut


## Задача

Ваша задача — написать сервис укорачивания ссылок и API к нему.

Ключевые возможности сервиса:
* генерация коротких ссылок и связь их с исходными длинными ссылками,
* переадресация на исходный адрес при обращении к коротким ссылкам.

Пользовательский интерфейс сервиса — одна страница с формой. Эта форма должна состоять из двух полей:
* обязательного для длинной исходной ссылки;
* необязательного для пользовательского варианта короткой ссылки.

Пользовательский вариант короткой ссылки не должен превышать 16 символов.


Если пользователь предложит вариант короткой ссылки, который уже занят, то нужно сообщить пользователю об этом через уведомление. Существующая в базе данных ссылка должна остаться неизменной.

Если пользователь не заполнит поле со своим вариантом короткой ссылки, то сервис должен сгенерировать её автоматически. Формат для ссылки по умолчанию — шесть случайных символов, в качестве которых можно использовать:
* большие латинские буквы,
* маленькие латинские буквы,
* цифры в диапазоне от 0 до 9.

Автоматически сгенерированная короткая ссылка должна добавляться в базу данных, но только если в ней уже нет такого же идентификатора. В противном случае нужно генерировать идентификатор заново.


## API для проекта

API проекта должен быть доступен всем желающим. Сервис должен обслуживать только два эндпоинта:
* /api/id/ — POST-запрос на создание новой короткой ссылки;
* /api/id/<short_id>/ — GET-запрос на получение оригинальной ссылки по указанному короткому идентификатору.

Примеры запросов к API, варианты ответов и ошибок приведены в спецификации openapi.yml; спецификация есть в репозитории yacut.

Для удобной работы с документом воспользуйтесь онлайн-редактором Swagger Editor, в котором можно визуализировать спецификацию.


## Примеры запросов

**GET** `.../api/id/{short_id}/`
*200*
```
{
  "url": "string"
}
```
*404*
```
{
  "message": "Указанный id не найден"
}
```


**POST** `.../api/id/`
```
{
  "url": "string",
  "custom_id": "string"
}
```
*201*
```
{
  "url": "string",
  "short_link": "string"
}
```
*400*
```
{
  "message": "Отсутствует тело запроса"
}
```


## Шаблон наполнения .env файла
```
FLASK_APP=yacut
FLASK_ENV=development
DATABASE_URI=sqlite:///db.sqlite3
SECRET_KEY=SECRET
```


## Запуск проекта

Клонировать репозиторий и перейти в него в командной строке:

```
git clone 
```

```
cd yacut
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

* Если у вас Linux/macOS

    ```
    source venv/bin/activate
    ```

* Если у вас windows

    ```
    source venv/scripts/activate
    ```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```


## Автор
Домнина Анастасия

Студент факультета Бэкенд, Когорта №10+
